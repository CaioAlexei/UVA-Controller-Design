#:kivy 2.1
#:import utils kivy.utils

GerenciarTelas:
    id: screen_manager

    Tela_Inicial:
        name: app.tela_inicio
    Tela_Escolha_Tipo_Sistema:
        name: app.tela_escolha_sistema
    Tela_Arquivo_FT:
        name: app.tela_arquivo_ft
    Tela_Arquivo_EE:
        name: app.tela_arquivo_ee
    Tela_Menu:
        name: app.tela_menu    
    Tela_Representacao_Sistema:
        name: app.tela_representacao_sistema
    Tela_Tempo_Resposta:
        name: app.tela_tempo_resposta
    Tela_Resposta_Frequencia:
        name: app.tela_resposta_frequencia
    Tela_Diagrama_Bloco:
        name: app.tela_diagrama_bloco
    Tela_Estabilidade:
        name: app.tela_estabilidade

    Entrada_Tempo_impulso_unit:
        name: 'entr_impulso_unit'
    Entrada_Tempo_degrau_unit:
        name: 'entr_degrau_unit'
    Entrada_Tempo_condicao_ini:
        name: 'entr_condicao_ini'
    Entrada_Tempo_forcada:
        name: 'entr_forcada'
    
    Entrada_Tempo_Ini_Fim:
        name: 'entr_bode'
    Entrada_Realimentacao_Tipo:
        name: app.tela_resposta_realimentacao

# --------------------------------------- Telas Primárias --------------------------------------------- #

<Tela_Inicial>:
    MDBoxLayout:
        orientation: 'vertical'
        md_bg_color: 'white'

        MDTopAppBar:
            title: app.titulo
            pos_hint:{'top': 1}
            elevation: 0

        MDCard:
            size_hint: None, None
            size: "400dp", "380dp"
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

            FitImage:
                source: 'images/logo-com-texto.png'

        MDBoxLayout:
            MDAnchorLayout:
                anchor_y: 'center'
                anchor_x: 'center'
                
                MDRaisedButton:
                    text: "Iniciar"
                    padding: [40, 10]
                    elevation: 2
                    on_release:
                        app.root.current = app.tela_escolha_sistema

<Tela_Escolha_Tipo_Sistema>
    MDBoxLayout:
        md_bg_color: 'white'
        orientation: 'vertical'
        MDTopAppBar:
            title: app.titulo
            pos_hint:{'top': 1}
            elevation: 0

        MDCard:
            size_hint: None, None
            size: "200dp", "150dp"
            pos_hint: {'center_x': 0.5, 'center_y': 1}

            FitImage:
                source: 'images/logo.png'

        MDLabel:
            text:'Escolha o seu sistema'
            font_style: 'H5'
            halign: 'center'
            padding: [0, 40]
            adaptive_height: True

        MDAnchorLayout:
            anchor_x: 'center'
            anchor_y: 'top'

            MDBoxLayout:
                orientation: 'vertical'
                spacing:20
                size_hint: None, None

                MDRaisedButton:
                    text:'Função de Transferência'
                    pos_hint:{'center_x': 0.5, 'top': 1}
                    size_hint: None, None
                    width: root.width*0.7
                    on_release:
                        app.root.current = app.tela_arquivo_ft

                MDRaisedButton:
                    text:'Espaço de Estado'
                    pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                    on_release: 
                    size_hint: None, None
                    width: root.width*0.7
                    on_release:
                        app.root.current = app.tela_arquivo_ee

<Tela_Arquivo_FT>
    BoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            title: app.titulo
            pos_hint:{'top': 1}
            elevation: 0

        MDBoxLayout:
            orientation: 'vertical'
            padding: 10
            
            MDLabel:
                text:'Representação do Sistema'
                font_style: 'H4'
                halign: 'center'

            MDCard:
                padding: [10, 5]
                elevation: 1
                adaptive_height: True

                MDLabel:
                    text:root.texto1
                    halign: 'center'
                    adaptive_height: True
                    pos_hint:{'center_x':0.5,'center_y':0.5}

            MDLabel:
                text:root.texto_A
            MDLabel:
                text:root.texto_E
            
            MDAnchorLayout:
                anchor_x: 'center'
                anchor_y: 'center'

                MDBoxLayout:
                    orientation: 'vertical'
                    adaptive_height: True
                    spacing: 10

                    MDRoundFlatIconButton:
                        text: "Selecionar arquivo"
                        icon: "folder"
                        pos_hint: {'center_x': .5, 'center_y': .6}
                        theme_text_color: 'ContrastParentBackground'
                        theme_icon_color: 'ContrastParentBackground'
                        line_color: 0,0,0,1
                        on_release: root.caminho_arquivo_FT()

                    MDRoundFlatIconButton:
                        text: "Confirmar"
                        icon: "thumb-up"             
                        pos_hint: {'center_x': .5, 'center_y': .3}
                        theme_text_color: 'ContrastParentBackground'
                        theme_icon_color: 'ContrastParentBackground'
                        line_color: 0,0,0,1
                        on_release: root.confirmacao()

<Tela_Arquivo_EE>
    BoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            title: app.titulo
            pos_hint:{'top': 1}
            elevation: 0

        MDBoxLayout:
            orientation: 'vertical'
            padding: 10
            MDLabel:
                text:'Representação do Sistema'
                font_style: 'H4'
                halign: 'center'

            MDCard:
                padding: [10, 5]
                elevation: 1
                adaptive_height: True

                MDLabel:
                    text:root.texto1
                    halign: 'center'
                    adaptive_height: True
                    pos_hint:{'center_x':0.5,'center_y':0.5}

            MDLabel:
                text:root.texto_A
            MDLabel:
                text:root.texto_E
            
            MDAnchorLayout:
                anchor_x: 'center'
                anchor_y: 'center'

                MDBoxLayout:
                    orientation: 'vertical'
                    adaptive_height: True
                    spacing: 10

                    MDRoundFlatIconButton:
                        text: "Selecionar arquivo"
                        icon: "folder"
                        pos_hint: {'center_x': .5, 'center_y': .6}
                        theme_text_color: 'ContrastParentBackground'
                        theme_icon_color: 'ContrastParentBackground'
                        line_color: 0,0,0,1
                        on_release: root.caminho_arquivo_EE()

                    MDRoundFlatIconButton:
                        text: "Confirmar"  
                        icon: "thumb-up"              
                        pos_hint: {'center_x': .5, 'center_y': .3}
                        theme_text_color: 'ContrastParentBackground'
                        theme_icon_color: 'ContrastParentBackground'
                        line_color: 0,0,0,1
                        on_release: root.confirmacao()
        
<Tela_Menu>
    MDBoxLayout:
        orientation: 'vertical'
        md_bg_color: 'white'

        MDTopAppBar:
            title: app.titulo
            pos_hint:{'top': 1}
            elevation: 0

        MDCard:
            size_hint: None, None
            size: "200dp", "150dp"
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

            FitImage:
                source: 'images/logo.png'

        MDAnchorLayout:
            anchor_x: 'center'
            anchor_y: 'top'

            MDBoxLayout:
                orientation: 'vertical'
                pos_hint:{'center_x':0.5,'center_y':0.7}
                adaptive_height: True
                #pos_hint: {'top': 1}
                spacing: 10

                MDRaisedButton:
                    text:'Representação do Sistema'
                    pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                    on_release: app.root.current = app.tela_representacao_sistema
                    size_hint: None, None
                    width: root.width*0.7    

                MDRaisedButton:
                    text:'Tempo de Resposta'
                    pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                    on_release: app.root.current = app.tela_tempo_resposta
                    size_hint: None, None
                    width: root.width*0.7

                MDRaisedButton:
                    text:'Resposta de Frequência'
                    pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                    on_release: app.root.current = app.tela_resposta_frequencia
                    size_hint: None, None
                    width: root.width*0.7

                MDRaisedButton:
                    text:'Diagrama de Bloco'
                    pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                    on_release: app.root.current = app.tela_diagrama_bloco
                    size_hint: None, None
                    width: root.width*0.7

                MDRaisedButton:
                    text:'Estabilidade'
                    pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                    on_release: app.root.current = app.tela_estabilidade
                    size_hint: None, None
                    width: root.width*0.7


<Tela_Representacao_Sistema>
    MDBoxLayout:
        orientation: 'vertical'
        md_bg_color: 'white'
        padding: 10

        MDCard:
            size_hint: None, None
            size: "200dp", "150dp"
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

            FitImage:
                source: 'images/logo.png'
        
        MDBoxLayout:
            orientation: 'vertical'
            MDBoxLayout:
                adaptive_height: True
                pos_hint: {'top': 1}
                MDLabel:
                    text: 'Selecione o tipo de representação:'
                    font_style: 'H4'
                    halign: 'center'
                    #valign: 'top'

            MDAnchorLayout:
                anchor_x: 'center'
                anchor_y: 'center'

                MDBoxLayout:
                    orientation: 'vertical'
                    adaptive_height: True
                    
                    spacing: 10
                    MDRaisedButton:
                        text: "Função de Transferência"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                        size_hint: None, None
                        width: root.width*0.8
                        on_release: root.FT()
                            
                    MDRaisedButton:
                        text: "Equação Espaço-Estado"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                        size_hint: None, None
                        width: root.width*0.8
                        on_release: root.EE()
                    

        MDIconButton:
            icon: 'arrow-left'
            on_release:
                app.root.current = app.tela_menu

<Tela_Tempo_Resposta>
    MDBoxLayout:
        orientation: 'vertical'
        md_bg_color: 'white'
        padding: 10
        
        MDCard:
            size_hint: None, None
            size: "200dp", "150dp"
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

            FitImage:
                source: 'images/logo.png'

        MDBoxLayout:
            orientation: 'vertical'
            MDBoxLayout:
                adaptive_height: True
                pos_hint: {'top': 1}
                MDLabel:
                    text: 'Selecione o tipo de resposta:'
                    font_style: 'H4'
                    halign: 'center'
                    #valign: 'top'

            MDAnchorLayout:
                anchor_x: 'center'
                anchor_y: 'center'

                MDBoxLayout:
                    orientation: 'vertical'
                    adaptive_height: True
                    spacing: 10

                    MDRaisedButton:
                        text: "Resposta ao Impulso Unitário"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                        size_hint: None, None
                        width: root.width*0.8
                        on_release: 
                            app.root.current = 'entr_impulso_unit'
                            
                    MDRaisedButton:
                        text: "Resposta ao Degrau Unitário"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                        size_hint: None, None
                        width: root.width*0.8
                        on_release: app.root.current = 'entr_degrau_unit'
                    MDRaisedButton:
                        text: "Resposta com uma condição inicial"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                        size_hint: None, None
                        width: root.width*0.8
                        on_release: app.root.current = 'entr_condicao_ini'
                    MDRaisedButton:
                        text: "Resposta com Entrada Senoidal"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                        size_hint: None, None
                        width: root.width*0.8
                        on_release: app.root.current = 'entr_forcada'
        MDIconButton:
            icon: 'arrow-left'
            on_release:
                app.root.current = app.tela_menu

<Tela_Resposta_Frequencia>
    MDBoxLayout:
        orientation: 'vertical'
        md_bg_color: 'white'
        padding: 10
        
        MDCard:
            size_hint: None, None
            size: "200dp", "150dp"
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

            FitImage:
                source: 'images/logo.png'

        MDBoxLayout:
            orientation: 'vertical'
            MDBoxLayout:
                adaptive_height: True
                pos_hint: {'top': 1}
                MDLabel:
                    text: 'Selecione o tipo de resposta:'
                    font_style: 'H4'
                    halign: 'center'
            MDAnchorLayout:
                anchor_x: 'center'
                anchor_y: 'center'

                MDBoxLayout:
                    orientation: 'vertical'
                    adaptive_height: True
                    
                    spacing: 10
                    MDRaisedButton:
                        text: "Resposta com o Diagrama de Bode"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                        size_hint: None, None
                        width: root.width*0.8
                        on_release: 
                            app.root.current = 'entr_bode'
                            
                    MDRaisedButton:
                        text: "Resposta com o método de Nyquist"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                        size_hint: None, None
                        width: root.width*0.8
                        on_release: root.gerar_grafico_nyquist()
            
        MDIconButton:
            icon: 'arrow-left'
            on_release:
                app.root.current = app.tela_menu

<Tela_Diagrama_Bloco>
    MDBoxLayout:
        orientation: 'vertical'
        md_bg_color: 'white'
        padding: 10
        
        MDCard:
            size_hint: None, None
            size: "200dp", "150dp"
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

            FitImage:
                source: 'images/logo.png'

        MDBoxLayout:
            orientation: 'vertical'
            MDBoxLayout:
                adaptive_height: True
                pos_hint: {'top': 1}
                MDLabel:
                    text: 'Selecione o tipo de resposta:'
                    font_style: 'H4'
                    halign: 'center'
            MDAnchorLayout:
                anchor_x: 'center'
                anchor_y: 'center'

                MDBoxLayout:
                    orientation: 'vertical'
                    adaptive_height: True
                    spacing: 10

                    MDRaisedButton:
                        text: "Resposta Série"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                        size_hint: None, None
                        width: root.width*0.8
                        on_release: root.resp_serie()
                           
                            
                    MDRaisedButton:
                        text: "Resposta paralelo"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                        size_hint: None, None
                        width: root.width*0.8
                        on_release: root.resp_paralelo()
                    
                    MDRaisedButton:
                        text: "Resposta realimentação"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                        size_hint: None, None
                        width: root.width*0.8
                        on_release: app.root.current = app.tela_resposta_realimentacao
            
        MDIconButton:
            icon: 'arrow-left'
            on_release:
                app.root.current = app.tela_menu
<Tela_Estabilidade>
    MDBoxLayout:
        orientation: 'vertical'
        md_bg_color: 'white'
        padding: 10
        
        MDCard:
            size_hint: None, None
            size: "200dp", "150dp"
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

            FitImage:
                source: 'images/logo.png'

        MDBoxLayout:
            orientation: 'vertical'
            MDBoxLayout:
                adaptive_height: True
                pos_hint: {'top': 1}
                MDLabel:
                    text: 'Selecione o tipo de Estabilidade & Robustez:'
                    font_style: 'H4'
                    halign: 'center'
            MDAnchorLayout:
                anchor_x: 'center'
                anchor_y: 'center'

                MDBoxLayout:
                    orientation: 'vertical'
                    adaptive_height: True
                    spacing: 10

                    MDRaisedButton:
                        text: "Pole & Zero"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                        size_hint: None, None
                        width: root.width*0.8
                        on_release: 
                            root.gerar_mapa_polos_zeros()
                            
                    MDRaisedButton:
                        text: "Lugar das raízes"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                        size_hint: None, None
                        width: root.width*0.8
                        on_release: root.gerar_root_locus()
                    
                    MDRaisedButton:
                        text: "Margem de Estabilidade"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                        size_hint: None, None
                        width: root.width*0.8
                        on_release: root.gerar_margem_estabilidade()
            
        MDIconButton:
            icon: 'arrow-left'
            on_release:
                app.root.current = app.tela_menu

# ------------------------------------------- Telas Secundárias ------------------------------------------ #

#---Tempo Resposta---#
#2°
<Entrada_Tempo_impulso_unit>
    MDBoxLayout:
        canvas.before:
            Color:
                rgb: utils.get_color_from_hex("#ffffff")
            Rectangle:
                size: self.size
                pos: self.pos
        padding: 10
        orientation: "vertical"

        MDLabel:
            text: 'Entre com os dados solicitados:'
            font_style: 'Subtitle1'
            halign: 'center'

        MDTextField:
            id: t_inicial
            hint_text: "Digite o tempo inicial:"
            input_filter: "float"
            text_color_focus: app.theme_cls.primary_dark
            hint_text_color_focus: app.theme_cls.primary_dark
            line_color_focus: app.theme_cls.primary_dark
        
        MDTextField:
            id: t_final
            hint_text: "Digite o tempo final:"
            input_filter: "float"
            text_color_focus: app.theme_cls.primary_dark
            hint_text_color_focus: app.theme_cls.primary_dark
            line_color_focus: app.theme_cls.primary_dark
            helper_text: 'Tempo máximo de simulação: 120 segundos'

        MDBoxLayout:
            MDFlatButton:
                text: 'Cancelar'
                on_release: 
                    app.root.current = app.tela_tempo_resposta
                    app.root.transition.direction = 'right'
                    root.clear()

            MDFlatButton:
                text: 'Ok'
                on_release:
                    root.gerar_grafico_imp_unit()
                    root.clear()

<Entrada_Tempo_degrau_unit>
    MDBoxLayout:
        padding: 10
        orientation: "vertical"
        canvas.before:
            Color:
                rgb: utils.get_color_from_hex("#ffffff")
            Rectangle:
                size: self.size
                pos: self.pos

        MDLabel:
            text: 'Entre com os dados solicitados:'
            font_style: 'Subtitle1'
            halign: 'center'

        MDTextField:
            id: t_inicial
            hint_text: "Digite o tempo inicial:"
            input_filter: "float"
            text_color_focus: app.theme_cls.primary_dark
            hint_text_color_focus: app.theme_cls.primary_dark
            line_color_focus: app.theme_cls.primary_dark
        
        MDTextField:
            id: t_final
            hint_text: "Digite o tempo final:"
            input_filter: "float"
            text_color_focus: app.theme_cls.primary_dark
            hint_text_color_focus: app.theme_cls.primary_dark
            line_color_focus: app.theme_cls.primary_dark
            helper_text: 'Tempo máximo de simulação: 120 segundos'

        MDBoxLayout:
            MDFlatButton:
                text: 'Cancelar'
                on_release: 
                    app.root.current = app.tela_tempo_resposta
                    app.root.transition.direction = 'right'
                    root.clear()

            MDFlatButton:
                text: 'Ok'
                on_release:
                    root.gerar_grafico_deg_unit()
                    root.clear()

<Entrada_Tempo_condicao_ini>
    MDBoxLayout:
        padding: 10
        orientation: "vertical"
        canvas.before:
            Color:
                rgb: utils.get_color_from_hex("#ffffff")
            Rectangle:
                size: self.size
                pos: self.pos

        MDLabel:
            text: 'Entre com os dados solicitados:'
            font_style: 'Subtitle1'
            halign: 'center'

        MDTextField:
            id: t_inicial
            hint_text: "Digite o tempo inicial:"
            input_filter: "float"
            text_color_focus: app.theme_cls.primary_dark
            hint_text_color_focus: app.theme_cls.primary_dark
            line_color_focus: app.theme_cls.primary_dark
        
        MDTextField:
            id: t_final
            hint_text: "Digite o tempo final:"
            input_filter: "float"
            text_color_focus: app.theme_cls.primary_dark
            hint_text_color_focus: app.theme_cls.primary_dark
            line_color_focus: app.theme_cls.primary_dark
            helper_text: 'Tempo máximo de simulação: 120 segundos'

        MDLabel:
            text: 'Condição Inicial:'

        MDBoxLayout:
            spacing: 10
            MDTextField:
                id: elemento1
                hint_text: "1º Elemento:"
                mode: "rectangle"
                size_hint_x: .5 
                pos_hint: {'top': 1}
                text_color_focus: app.theme_cls.primary_dark
                hint_text_color_focus: app.theme_cls.primary_dark
                line_color_focus: app.theme_cls.primary_dark

            MDTextField:
                id: elemento2
                hint_text: "2º Elemento"
                mode: "rectangle"
                size_hint_x: .5 
                pos_hint: {'top': 1}
                text_color_focus: app.theme_cls.primary_dark
                hint_text_color_focus: app.theme_cls.primary_dark
                line_color_focus: app.theme_cls.primary_dark

        MDBoxLayout:
            MDFlatButton:
                text: 'Cancelar'
                on_release: 
                    app.root.current = app.tela_tempo_resposta
                    app.root.transition.direction = 'right'
                    root.clear()

            MDFlatButton:
                text: 'Ok'
                on_release:
                    root.gerar_grafico_codicao_ini()
                    root.clear()

<Entrada_Tempo_forcada>
    MDBoxLayout:
        padding: 10
        orientation: "vertical"
        canvas.before:
            Color:
                rgb: utils.get_color_from_hex("#ffffff")
            Rectangle:
                size: self.size
                pos: self.pos

        MDLabel:
            text: 'Entre com os dados solicitados:'
            font_style: 'Subtitle1'
            halign: 'center'

        MDTextField:
            id: t_inicial
            hint_text: "Digite o tempo inicial:"
            input_filter: "float"
            text_color_focus: app.theme_cls.primary_dark
            hint_text_color_focus: app.theme_cls.primary_dark
            line_color_focus: app.theme_cls.primary_dark
            
        
        MDTextField:
            id: t_final
            hint_text: "Digite o tempo final:"
            input_filter: "float"
            text_color_focus: app.theme_cls.primary_dark
            hint_text_color_focus: app.theme_cls.primary_dark
            line_color_focus: app.theme_cls.primary_dark
            helper_text: 'Tempo máximo de simulação: 120 segundos'

        MDLabel:
            text: 'Digite o valor de amplitude da senoide:'
            
        MDTextField:
            id: amplitude
            hint_text: "Amplitude"
            input_filter: "float"
            mode: "rectangle"
            text_color_focus: app.theme_cls.primary_dark
            hint_text_color_focus: app.theme_cls.primary_dark
            line_color_focus: app.theme_cls.primary_dark


        MDBoxLayout:
            MDFlatButton:
                text: 'Cancelar'
                on_release: 
                    app.root.current = app.tela_tempo_resposta
                    app.root.transition.direction = 'right'
                    root.clear()

            MDFlatButton:
                text: 'Ok'
                on_release:
                    root.gerar_grafico_resp_senoidal()
                    root.clear()

#---Resposta de Frequência---#

#2°

<Entrada_Tempo_Ini_Fim>
    MDBoxLayout:
        canvas.before:
            Color:
                rgb: utils.get_color_from_hex("#ffffff")
            Rectangle:
                size: self.size
                pos: self.pos
        padding: 10
        orientation: "vertical"

        MDLabel:
            text: 'Entre com os dados solicitados:'
            font_style: 'Subtitle1'
            halign: 'center'

        MDTextField:
            id: fmin
            hint_text: "Frequência Mínima ( Padrão = 1):"
            input_filter: "float"
        
        MDTextField:
            id: fmax
            hint_text: "Frequência Máxima ( Padrão = 100):"
            input_filter: "float"

        MDBoxLayout:
            MDFlatButton:
                text: 'Cancelar'
                on_release: 
                    app.root.current = app.tela_resposta_frequencia
                    root.clear()
                    app.root.transition.direction = 'right'

            MDFlatButton:
                text: 'Ok'
                on_release: 
                    root.gerar_grafico_bode()
                    root.clear()

#---Diagrama de Bloco---#

#2°

<Entrada_Realimentacao_Tipo>
    MDBoxLayout:
        orientation: 'vertical'
        padding: 10
        
        MDBoxLayout:
            orientation: 'vertical'
            MDBoxLayout:
                adaptive_height: True
                pos_hint: {'top': 1}
                MDLabel:
                    text: 'Selecione o tipo realimentação:'
                    font_style: 'H4'
                    halign: 'center'
            MDAnchorLayout:
                anchor_x: 'center'
                anchor_y: 'center'

                MDBoxLayout:
                    orientation: 'vertical'
                    adaptive_height: True
                    spacing: 10
                            
                    MDRaisedButton:
                        text: "Positiva"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                        size_hint: None, None
                        width: root.width*0.8
                        on_release: root.rea_positiva()
                    
                    MDRaisedButton:
                        text: "Negativa"
                        pos_hint:{'center_x': 0.5, 'center_y': 0.5}
                        size_hint: None, None
                        width: root.width*0.8
                        on_release: root.rea_negativa()

        MDIconButton:
            icon: 'arrow-left'
            on_release:
                app.root.current = app.tela_diagrama_bloco